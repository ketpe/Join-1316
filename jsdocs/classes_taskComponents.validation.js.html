<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: classes/taskComponents.validation.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: classes/taskComponents.validation.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @description Validation methods for task components.
 * This mixin provides validation functionalities for task components,
 * including title validation, due date validation, and required field checks.
 * @mixin taskComponents.validation
 * @see TaskComponents
 */

(function() {
    const taskComponentsPrototype = TaskComponents.prototype;

    /**
     * @description Adds the task title on input change.
     * Handles validation for the task title field.
     * @function addTaskTitleOnInput
     * @memberof taskComponents.validation
     * @returns {void}
     */
    taskComponentsPrototype.addTaskTitleOnInput = function() {
        let titleValue = document.getElementById('task-title');
        if (!titleValue.value) {
            this.showAndLeaveErrorMessage("a-t-title-required", true);
            this.showAndLeaveErrorBorder("task-title", true);
        } else {
            this.taskTitleValidation(titleValue.value);
        }
    };

    /**
    * @description Validates the task title.
    * If the title is longer than 3 characters, it sets the currentTitle property.
    * Otherwise, it shows an error message and border.
    * @function taskTitleValidation
    * @memberof taskComponents.validation
    * @param {string} titleValue - The value of the task title.
    * @return {void}
    */
    taskComponentsPrototype.taskTitleValidation = function(titleValue = "") {
        const cleanTitleValue = (titleValue ?? "").trim();

        if (cleanTitleValue.length > 3) {
            this.showAndLeaveErrorMessage("a-t-title-required", false);
            this.showAndLeaveErrorBorder("task-title", false);
            this.currentTitle = cleanTitleValue;
        } else {
            this.showAndLeaveErrorMessage("a-t-title-required", true);
            this.showAndLeaveErrorBorder("task-title", true);
            this.currentTitle = "";
        }

    };

    /**
    * @description Validates the due date field.
    * Updates the currentDueDate and currentDueDateInputValue properties based on validation.
    * @function dateFieldOnChange
    * @memberof taskComponents.validation
    * @return {void}
    */
    taskComponentsPrototype.dateFieldOnChange = function() {
        let dateField = document.getElementById('due-date-display');
        if (!dateField) { return; }
        const dueDateCheck = new DueDateCheck(dateField.value, this.currentDueDate, this.currentDueDateInputValue, this);
        const [result, dueDate] = dueDateCheck.startDueDateValidation();
        this.currentDueDate = result ? dueDate : "";
        this.currentDueDateInputValue = dateField.value;
    };

    /**
     * @description Handles the click event on the date icon to show the date picker.
     * @function onDateIconClick
     * @memberof taskComponents.validation
     * @return {void}
     */
    taskComponentsPrototype.onDateIconClick = function() {
        let datePicker = document.getElementById('due-date-hidden');
        datePicker.showPicker();
    };

    /**
     * @description Handles the change event on the date picker.
     * @function datePickerSelectionChange
     * @memberof taskComponents.validation
     * @param {Event} e - The change event object.
     * @return {void}
     */
    taskComponentsPrototype.datePickerSelectionChange = function(e) {
        let newDateArr = String(e.target.value).split('-');
        let newDateString = `${newDateArr[2]}/${newDateArr[1]}/${newDateArr[0]}`;
        document.getElementById('due-date-display').value = newDateString;
        this.dateFieldOnChange();
    };

    /**
    * @description Shows and leaves an error message for the specified target.
    * @function showAndLeaveErrorMessage
    * @memberof taskComponents.validation
    * @param {string} messageTarget - The ID of the message target element.
    * @param {boolean} visibility - Indicates whether to show or hide the error message.
    * @returns {void}
    */
    taskComponentsPrototype.showAndLeaveErrorMessage = function(messageTarget, visibility = true) {
        let errorField = document.getElementById(messageTarget);
        if (errorField == null) { return; }
        if (visibility) {
            errorField.classList.remove("error-text-hidden");
            errorField.classList.add('error-text-show');
        } else {
            errorField.classList.add("error-text-hidden");
            errorField.classList.remove('error-text-show');
        }
    };

    /**
     * @description Shows and leaves an error border for the specified input field.
     * @function showAndLeaveErrorBorder
     * @memberof taskComponents.validation
     * @param {string} inputTarget - The ID of the input field.
     * @param {boolean} visibility - Indicates whether to show or hide the error border.
     * @returns {void}
     */
    taskComponentsPrototype.showAndLeaveErrorBorder = function(inputTarget, visibility = true) {
        let inputField = document.getElementById(inputTarget);
        if (inputField == null) { return; }
        if (visibility) {
            inputField.classList.add('input-has-error');
        } else {
            inputField.classList.remove('input-has-error');
        }
    };

    /**
    * @description Handles the mouse click event on the Add Task form to validate required fields.
    * @function addTaskSubmitOnMouse
    * @memberof taskComponents.validation
    * @param {HTMLElement} button - The button element that was clicked.
    * @return {void}
    */
    taskComponentsPrototype.addTaskSubmitOnMouse = function(button) {
        document.getElementById('task-title').blur();
        document.getElementById('due-date-display').blur();
        this.addTaskCheckRequiredField(button);
    };

    /**
    * @description Checks if all required fields are filled and enables/disables the create button accordingly.
    * @function addTaskCheckRequiredField
    * @memberof taskComponents.validation
    * @param {HTMLElement} createButton - The create button element.
    * @return {void}
    */
    taskComponentsPrototype.addTaskCheckRequiredField = function(createButton) {

        if (!createButton) { return; }

        const hasCategory = this.currentCategory &amp;&amp; typeof this.currentCategory === 'object' &amp;&amp; 'title' in this.currentCategory;
        createButton.disabled = !(
            this.currentDueDate.length > 0 &amp;&amp;
            this.currentTitle.length > 0 &amp;&amp;
            this.currentPriority.length > 0 &amp;&amp;
            hasCategory);

        createButton.disabled ? createButton.setAttribute('aria-disabled', 'true') : createButton.removeAttribute('aria-disabled');

    }   

     /**
     * @description Checks the value of the category input field for validity.
     * If the input field is empty or has the default placeholder value, it shows an error message and border.
     * If a valid category is selected, it hides the error message and border.
     * @function checkCategoryInputValue
     * @memberof taskComponents.validation
     * @returns {void}
     */
    taskComponentsPrototype.checkCategoryInputValue = function() {
        let categoryInput = document.getElementById('task-category');
        if (!categoryInput) { return; }
        if (categoryInput.value == "Select task category") {
            this.showAndLeaveErrorMessage('a-t-category-required', true);
            this.showAndLeaveErrorBorder('task-category', true);
        } else {
            this.showAndLeaveErrorMessage('a-t-category-required', false);
            this.showAndLeaveErrorBorder('task-category', false);
        }

    };

})();</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-scripts_firebase.html">scripts/firebase</a></li></ul><h3>Namespaces</h3><ul><li><a href="addEditContacts.html">addEditContacts</a></li><li><a href="addTaskTemplate.html">addTaskTemplate</a></li><li><a href="app.html">app</a></li><li><a href="board.html">board</a></li><li><a href="boardDatabase.html">boardDatabase</a></li><li><a href="boardDetailView.html">boardDetailView</a></li><li><a href="boardSearch.html">boardSearch</a></li><li><a href="boardTaskTemplate.html">boardTaskTemplate</a></li><li><a href="boardTasks.html">boardTasks</a></li><li><a href="boardUtils.html">boardUtils</a></li><li><a href="contactTemplates.html">contactTemplates</a></li><li><a href="contacts.html">contacts</a></li><li><a href="dragAndDrop.html">dragAndDrop</a></li><li><a href="greeting.html">greeting</a></li><li><a href="help.html">help</a></li><li><a href="landscapeBlock.html">landscapeBlock</a></li><li><a href="login.html">login</a></li><li><a href="navigations.html">navigations</a></li><li><a href="openCloseDialog.html">openCloseDialog</a></li><li><a href="privacyLegal.html">privacyLegal</a></li><li><a href="script.html">script</a></li><li><a href="summary.html">summary</a></li><li><a href="taskComponents_.html">taskComponents</a></li></ul><h3>Classes</h3><ul><li><a href="AddTaskCache.html">AddTaskCache</a></li><li><a href="AddTaskMobileUtil.html">AddTaskMobileUtil</a></li><li><a href="AddTaskUtils.html">AddTaskUtils</a></li><li><a href="BoardTaskDetailDeleteUtil.html">BoardTaskDetailDeleteUtil</a></li><li><a href="BoardTaskDetailEditUtils.html">BoardTaskDetailEditUtils</a></li><li><a href="BoardTaskDetailViewUtils.html">BoardTaskDetailViewUtils</a></li><li><a href="Contact.html">Contact</a></li><li><a href="ContactAssigned.html">ContactAssigned</a></li><li><a href="CreateNewTask.html">CreateNewTask</a></li><li><a href="DueDateCheck.html">DueDateCheck</a></li><li><a href="EditTaskSafeUtil.html">EditTaskSafeUtil</a></li><li><a href="FirebaseDatabase.html">FirebaseDatabase</a></li><li><a href="Subtask.html">Subtask</a></li><li><a href="SubtaskToTask.html">SubtaskToTask</a></li><li><a href="Task.html">Task</a></li><li><a href="TaskComponents.html">TaskComponents</a></li><li><a href="TaskElements.html">TaskElements</a></li></ul><h3>Mixins</h3><ul><li><a href="taskComponents.categories.html">categories</a></li><li><a href="taskComponents.contacts.html">contacts</a></li><li><a href="taskComponents.create.html">create</a></li><li><a href="taskComponents.layout.html">layout</a></li><li><a href="taskComponents.priority.html">priority</a></li><li><a href="taskComponents.subtasks.html">subtasks</a></li><li><a href="taskComponents.validation.html">validation</a></li></ul><h3>Global</h3><ul><li><a href="global.html#firebaseConfig">firebaseConfig</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Mon Nov 03 2025 20:17:50 GMT+0100 (Mitteleurop√§ische Normalzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
