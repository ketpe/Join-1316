<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: scripts/openCloseDialog.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: scripts/openCloseDialog.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview
 * @namespace openCloseDialog
 * @description Opens and closes dialogs with specific content rendering functions.
 */

/**
 * @function openDialog
 * @memberof openCloseDialog
 * @description Opens a dialog and renders specific content
 * @param {string} dialogId - The ID of the dialog to open
 * @param {Function} renderSpecificFunction - The function to call to render specific content
 * @returns {void}
 */
function openDialog(dialogId, renderSpecificFunction) {
    toggleScrollOnBody(true);
    addDialogShowClass(dialogId);
    setEditDialogEventListeners();
    document.getElementById(dialogId).showModal();
    if (renderSpecificFunction) renderSpecificFunction();
}

/**
 * @function setEditDialogEventListeners
 * @memberof openCloseDialog
 * @description Sets event listeners for the edit dialog.
 * @returns {void}
 */
function setEditDialogEventListeners() {
    const dialog = document.getElementById("detail-view-task-dialog");
    if (!dialog) return;
    const onShown = () => {
        if (!dialog.classList.contains('dialog-show')) return;
        setTimeout(() => dialog.setAttribute('onclick', "closeDialogByEvent(event,'detail-view-task-dialog')"), 250);
        dialog.removeEventListener('animationend', onShown);
    };
    const cleanup = () => {
        dialog.removeAttribute('onclick');
        ['animationend', 'close', 'cancel'].forEach(e => dialog.removeEventListener(e, onShown));
    };
    dialog.addEventListener('animationend', onShown);
    dialog.addEventListener('close', cleanup);
    dialog.addEventListener('cancel', cleanup);
}


/**
 * @function closeDialogByEvent
 * @memberof openCloseDialog
 * @description Closes the dialog if the event target is the dialog background, close button, cancel button, or create button
 * @param {Event} event - The event that triggered the close
 * @param {string} dialogId - The ID of the dialog to close
 * @returns {void}
 */
function closeDialogByEvent(event, dialogId,) {
    event.stopPropagation();
    const dialog = document.getElementById(dialogId);
    const closeDiv = document.getElementById('btn-overlay-close-div');
    if (
        event.target == dialog ||
        event.target == closeDiv ||
        event.target.closest('.btn-clear-cancel') ||
        event.target.closest('.btn-create')
    ) {
        closeDialog(dialogId);
        if (dialogId == "detail-view-task-dialog") {
            getBoardTaskWithLoadingAnimation();
        }
    }
}

/**
 * @function closeDialog
 * @memberof openCloseDialog
 * @description Closes a dialog
 * @param {string} dialogId - The ID of the dialog to close
 * @return {void}
 */
function closeDialog(dialogId) {
    addDialogHideClass(dialogId);

    setTimeout(function () {
        document.getElementById(dialogId).close();

        toggleScrollOnBody(false);
    }, 1000);

}



/**
 * @function toggleScrollOnBody
 * @memberof openCloseDialog
 * @description Toggles the scroll on the body element
 * @param {boolean} open - Whether to open or close the scroll
 * @returns {void}
 */
function toggleScrollOnBody(open) {
    const bodyElement = document.getElementsByTagName('body')[0];
    open ? bodyElement.classList.add('dialog-open') : bodyElement.classList.remove('dialog-open');
}

/**
 * @function addDialogShowClass
 * @memberof openCloseDialog
 * @description Adds the show class to a dialog
 * @param {string} dialogId - The ID of the dialog to show
 * @return {void}
 */
function addDialogShowClass(dialogId) {
    let dialog = document.getElementById(dialogId);
    if (!dialog) { return; }
    dialog.classList.remove('dialog-hide');
    dialog.classList.add('dialog-show');
}

/**
 * @function addDialogHideClass
 * @memberof openCloseDialog
 * @description Adds the hide class to a dialog
 * @param {string} dialogId - The ID of the dialog to hide
 */
function addDialogHideClass(dialogId) {
    let dialog = document.getElementById(dialogId);
    dialog.classList.add('dialog-hide');
    dialog.classList.remove('dialog-show');
}


/**
 * @function renderDetailViewTemplate
 * @memberof openCloseDialog
 * @description Renders the detail view template into the dialog and fetches the task data
 * @param {string} taskId - The ID of the task to display
 * @return {Promise&lt;void>}
 */
async function renderDetailViewTemplate(taskId) {
    await includeHtml("dialog-content-detail-view-task", "taskTemplate.html");
    getDetailViewTask(taskId);
}


/**
 * @function openSwapMobileMenu
 * @memberof openCloseDialog
 * @description Opens the swap mobile menu
 * @param {Event} event - The event that triggered the menu opening
 * @param {string} id - The ID of the task
 */
function openSwapMobileMenu(event, id) {
    event.stopPropagation();
    const overlay = document.getElementById(`swap-overlay-${id}`);
    overlay.style.display = 'block';
    const dialog = document.getElementById(`swap-mobile-menu-${id}`);
    dialog.style.display = 'block';
}

/**
 * @function closeSwapMobileMenu
 * @memberof openCloseDialog
 * @description Closes the swap mobile menu
 * @param {Event} event - The event that triggered the menu closing
 * @param {string} id - The ID of the task
 */
function closeSwapMobileMenu(event, id) {
    event.stopPropagation();
    const overlay = document.getElementById(`swap-overlay-${id}`);
    overlay.style.display = 'none';
    const dialog = document.getElementById(`swap-mobile-menu-${id}`);
    dialog.style.display = 'none';
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-scripts_firebase.html">scripts/firebase</a></li></ul><h3>Namespaces</h3><ul><li><a href="addEditContacts.html">addEditContacts</a></li><li><a href="addTaskTemplate.html">addTaskTemplate</a></li><li><a href="app.html">app</a></li><li><a href="board.html">board</a></li><li><a href="boardDatabase.html">boardDatabase</a></li><li><a href="boardDetailView.html">boardDetailView</a></li><li><a href="boardSearch.html">boardSearch</a></li><li><a href="boardTaskTemplate.html">boardTaskTemplate</a></li><li><a href="boardTasks.html">boardTasks</a></li><li><a href="boardUtils.html">boardUtils</a></li><li><a href="contactTemplates.html">contactTemplates</a></li><li><a href="contacts.html">contacts</a></li><li><a href="dragAndDrop.html">dragAndDrop</a></li><li><a href="dueDateCheck_.html">dueDateCheck</a></li><li><a href="greeting.html">greeting</a></li><li><a href="help.html">help</a></li><li><a href="landscapeBlock.html">landscapeBlock</a></li><li><a href="login.html">login</a></li><li><a href="navigations.html">navigations</a></li><li><a href="openCloseDialog.html">openCloseDialog</a></li><li><a href="privacyLegal.html">privacyLegal</a></li><li><a href="script.html">script</a></li><li><a href="summary.html">summary</a></li><li><a href="taskComponents_.html">taskComponents</a></li></ul><h3>Classes</h3><ul><li><a href="AddTaskCache.html">AddTaskCache</a></li><li><a href="AddTaskMobileUtil.html">AddTaskMobileUtil</a></li><li><a href="AddTaskUtils.html">AddTaskUtils</a></li><li><a href="BoardTaskDetailDeleteUtil.html">BoardTaskDetailDeleteUtil</a></li><li><a href="BoardTaskDetailEditUtils.html">BoardTaskDetailEditUtils</a></li><li><a href="BoardTaskDetailViewUtils.html">BoardTaskDetailViewUtils</a></li><li><a href="Contact.html">Contact</a></li><li><a href="ContactAssigned.html">ContactAssigned</a></li><li><a href="CreateNewTask.html">CreateNewTask</a></li><li><a href="EditTaskSafeUtil.html">EditTaskSafeUtil</a></li><li><a href="FirebaseDatabase.html">FirebaseDatabase</a></li><li><a href="Subtask.html">Subtask</a></li><li><a href="SubtaskToTask.html">SubtaskToTask</a></li><li><a href="Task.html">Task</a></li><li><a href="TaskComponents.html">TaskComponents</a></li><li><a href="TaskElements.html">TaskElements</a></li><li><a href="dueDateCheck.DueDateCheck.html">DueDateCheck</a></li></ul><h3>Mixins</h3><ul><li><a href="taskComponents.categories.html">categories</a></li><li><a href="taskComponents.contacts.html">contacts</a></li><li><a href="taskComponents.create.html">create</a></li><li><a href="taskComponents.layout.html">layout</a></li><li><a href="taskComponents.priority.html">priority</a></li><li><a href="taskComponents.subtasks.html">subtasks</a></li><li><a href="taskComponents.validation.html">validation</a></li></ul><h3>Global</h3><ul><li><a href="global.html#firebaseConfig">firebaseConfig</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Thu Nov 13 2025 19:35:00 GMT+0100 (Mitteleurop√§ische Normalzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
