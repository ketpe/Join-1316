<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: scripts/board.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: scripts/board.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview
 * @namespace board
 * @description This script manages the Kanban board functionality, including loading components, fetching tasks from the database, rendering tasks, handling responsive design, and managing task interactions.
 * It includes functions for loading HTML components based on screen size, retrieving and processing task data, rendering tasks on the board, and handling user interactions such as searching and editing tasks.
 */
let boardTaskComponents = null;
let currentView = "";
const minDesktopHeight = 880;
const minDesktopWidth = 880;
const breakPointToDesktopSingle = 1180;

/**
 * @function onLoadBoard
 * @memberof board
 * @description Initializes the Kanban board by checking user login status, determining the current board size, and loading appropriate HTML components for desktop or mobile view.
 * @returns {Promise&lt;void>}
 */
async function onLoadBoard() {
    checkUserOrGuestIsloggedIn();
    const [height, width] = getCurrentWindowSize();
    const head = document.getElementsByTagName('head');
    if (width >= minDesktopWidth) {
        await loadHtmlComponentsForDesktop(height);
        setNavigationButtonActive('board', "desktop");
        kanbanUpdateSizeDesktop();
    } else {
        await loadHtmlComponentsForMobile(height);
        setNavigationButtonActive('board', "mobile");
        kanbanUpdateSizeMobile();
    }
    window.addEventListener('resize', onBoardPageResize);
    window.addEventListener('resize', updateLandscapeBlock);

}

/**
 * @function loadHtmlComponentsForDesktop
 * @memberof board
 * @description Loads HTML components for the desktop view of the Kanban board.
 * It clears the existing HTML body, includes necessary HTML files for the desktop layout, shows a loading animation, fetches and renders board tasks, and then hides the loading animation.
 * @param {HTMLCollection} head - The head element of the document.
 * @returns {Promise&lt;void>}
 */
async function loadHtmlComponentsForDesktop(height) {
    currentView = "desktop";
    clearBoardHtmlBody();
    await includeHtmlForNode("body", "boardDesktop.html");
    await Promise.all([
        includeHtml("navbar", "navbarDesktop.html"),
        includeHtml("header", "headerDesktop.html"),
    ]);
    await getBoardTaskWithLoadingAnimation();
}

/**
 * @function loadHtmlComponentsForMobile
 * @memberof board
 * @description Loads HTML components for the mobile view of the Kanban board.
 * It clears the existing HTML body, includes necessary HTML files for the mobile layout, shows a loading animation, fetches and renders board tasks, and then hides the loading animation.
 * @returns {Promise&lt;void>}
 */
async function loadHtmlComponentsForMobile(height) {
    currentView = "mobile"
    clearBoardHtmlBody();
    await includeHtmlForNode("body", "boardMobile.html");

    await Promise.all([
        includeHtml("header", "headerMobile.html"),
        includeHtml("navbar", "navbarMobile.html"),
    ]);
    await getBoardTaskWithLoadingAnimation();
}

/**
 * @function getBoardTaskWithLoadingAnimation
 * @memberof board
 * @description Fetches board tasks with a loading animation.
 * It shows a loading animation, retrieves board tasks from the database, renders user initials, hides the loading animation, 
 * and clamps task titles for better display.
 * @returns {Promise&lt;void>}
 */
async function getBoardTaskWithLoadingAnimation() {
    showLoadingAnimation();
    await getBoardTasks();
    renderUserInitial();
    hideLoadingAnimation();
    clampBoardTaskTitles();
}

/**
 * @function clearBoardHtmlBody
 * @memberof board
 * @description Clears the content of the board HTML body.
 * @returns {void}
 */
function clearBoardHtmlBody() {
    document.querySelector('body').innerHTML = "";
}

/**
 * @function onBoardPageResize
 * @memberof board
 * @description Adjusts the Kanban board layout based on the current window size, loading either mobile or desktop components as needed.
 * @returns {Promise&lt;void>}
 */
async function onBoardPageResize() {
    const [height, width] = getCurrentWindowSize();
    if ((width &lt;= minDesktopWidth) &amp;&amp; currentView != "mobile") {
        checkIfAddTaskDialogOpen();
        await loadHtmlComponentsForMobile();
        setNavigationButtonActive('board', "mobile");
    } else if (width >= minDesktopWidth + 1 &amp;&amp; currentView != "desktop") {
        await loadHtmlComponentsForDesktop();
        setNavigationButtonActive('board', "desktop");
    }
    currentView === "desktop" ? kanbanUpdateSizeDesktop() : kanbanUpdateSizeMobile();
    setTaskViewEditDialogSize();
}

/**
 * @function checkIfAddTaskDialogOpen
 * @memberof board
 * @description Checks if the add task dialog is open and navigates to it if necessary.
 * @returns {void}
 */
function checkIfAddTaskDialogOpen() {
    const addTaskDialog = document.querySelector('#add-task-dialog.dialog-show');
    if (!addTaskDialog) { return; }
    navigateToAddTask(null, currentStateCategory);
}

















</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-scripts_firebase.html">scripts/firebase</a></li></ul><h3>Namespaces</h3><ul><li><a href="addEditContacts.html">addEditContacts</a></li><li><a href="addTaskTemplate.html">addTaskTemplate</a></li><li><a href="app.html">app</a></li><li><a href="board.html">board</a></li><li><a href="boardDatabase.html">boardDatabase</a></li><li><a href="boardDetailView.html">boardDetailView</a></li><li><a href="boardSearch.html">boardSearch</a></li><li><a href="boardTaskTemplate.html">boardTaskTemplate</a></li><li><a href="boardTasks.html">boardTasks</a></li><li><a href="boardUtils.html">boardUtils</a></li><li><a href="contactTemplates.html">contactTemplates</a></li><li><a href="contacts.html">contacts</a></li><li><a href="dragAndDrop.html">dragAndDrop</a></li><li><a href="dueDateCheck_.html">dueDateCheck</a></li><li><a href="greeting.html">greeting</a></li><li><a href="help.html">help</a></li><li><a href="landscapeBlock.html">landscapeBlock</a></li><li><a href="login.html">login</a></li><li><a href="navigations.html">navigations</a></li><li><a href="openCloseDialog.html">openCloseDialog</a></li><li><a href="privacyLegal.html">privacyLegal</a></li><li><a href="script.html">script</a></li><li><a href="summary.html">summary</a></li><li><a href="taskComponents_.html">taskComponents</a></li></ul><h3>Classes</h3><ul><li><a href="AddTaskCache.html">AddTaskCache</a></li><li><a href="AddTaskMobileUtil.html">AddTaskMobileUtil</a></li><li><a href="AddTaskUtils.html">AddTaskUtils</a></li><li><a href="BoardTaskDetailDeleteUtil.html">BoardTaskDetailDeleteUtil</a></li><li><a href="BoardTaskDetailEditUtils.html">BoardTaskDetailEditUtils</a></li><li><a href="BoardTaskDetailViewUtils.html">BoardTaskDetailViewUtils</a></li><li><a href="Contact.html">Contact</a></li><li><a href="ContactAssigned.html">ContactAssigned</a></li><li><a href="CreateNewTask.html">CreateNewTask</a></li><li><a href="EditTaskSafeUtil.html">EditTaskSafeUtil</a></li><li><a href="FirebaseDatabase.html">FirebaseDatabase</a></li><li><a href="Subtask.html">Subtask</a></li><li><a href="SubtaskToTask.html">SubtaskToTask</a></li><li><a href="Task.html">Task</a></li><li><a href="TaskComponents.html">TaskComponents</a></li><li><a href="TaskElements.html">TaskElements</a></li><li><a href="dueDateCheck.DueDateCheck.html">DueDateCheck</a></li></ul><h3>Mixins</h3><ul><li><a href="taskComponents.categories.html">categories</a></li><li><a href="taskComponents.contacts.html">contacts</a></li><li><a href="taskComponents.create.html">create</a></li><li><a href="taskComponents.layout.html">layout</a></li><li><a href="taskComponents.priority.html">priority</a></li><li><a href="taskComponents.subtasks.html">subtasks</a></li><li><a href="taskComponents.validation.html">validation</a></li></ul><h3>Global</h3><ul><li><a href="global.html#firebaseConfig">firebaseConfig</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Thu Nov 13 2025 19:35:00 GMT+0100 (Mitteleurop√§ische Normalzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
