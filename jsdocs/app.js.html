<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: app.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: app.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @namespace app
 * @fileoverview app.js
 * Global application script
 * Implements common functions and initializes Firebase
 * Loaded by all pages
 */


import { auth, db, onAuthStateChanged } from "./scripts/firebase.js";
import { ref, set, get, getDatabase, child, update, remove } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

/**
 * @function includeHtml
 * @memberof app
 * Includes HTML content into a target element.
 * @param {string} targetId 
 * @param {string} file 
 * @returns {Promise&lt;Element|string>}
 */
async function includeHtml(targetId, file) {

  try {
    const element = document.getElementById(targetId);
    if (!element) throw new Error(`Target #${targetId} not found`);
    element.innerHTML = "";

    const res = await fetch(file, { cache: "no-cache" });
    if (!res.ok) throw new Error(`Error loading: ${file} (${res.status})`);

    const html = await res.text();
    element.innerHTML = html;

    return element;
  } catch (error) {
    return error.message;
  }

}

/**
 * @function includeHtmlForNode
 * @memberof app
 * Includes HTML content into a specified node.
 * @param {string} nodeName 
 * @param {string} file 
 * @returns {Promise&lt;Element|string>}     
 */
async function includeHtmlForNode(nodeName, file) {

  try {
    const element = document.querySelector(nodeName);
    if (!element) throw new Error(`Node #${nodeName} not found`);
    element.innerHTML = "";

    const res = await fetch(file, { cache: "no-cache" });
    if (!res.ok) throw new Error(`Error loading: ${file} (${res.status})`);

    const html = await res.text();
    element.innerHTML = html;

    return element;
  } catch (error) {
    return error.message;
  }

}

/** 
 * @function setLogStatus
 * @memberof app
 * Sets the login status in session storage.
 * @param {string} setLogStatus 
 */
function setLogStatus(setLogStatus) {
  sessionStorage.setItem('logInStatus', setLogStatus);
};

/**
 * @function getLogStatus
 * @memberof app
 * Gets the current login status from session storage.
 * Redirects to the login page if no status is found.
 * @returns {string}  The current login status from session storage.
 */
function getLogStatus() {
  let logInStatus = sessionStorage.getItem('logInStatus');
  if (!logInStatus) {
    window.location.href = './index.html';
    return;
  }
  return logInStatus;
};


window.includeHtml = includeHtml;
window.includeHtmlForNode = includeHtmlForNode;
window.firebaseAuth = auth;
window.firebaseDb = db;
window.firebaseOnAutheChanged = onAuthStateChanged;
window.firebaseGetDatabase = getDatabase;
window.firebaseGet = get;
window.firebaseRef = ref;
window.firebaseChild = child;
window.firebaseSet = set;
window.firebaseUpdate = update;
window.firebaseRemove = remove;
window.setLogStatus = setLogStatus;
window.getLogStatus = getLogStatus;

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-scripts_firebase.html">scripts/firebase</a></li></ul><h3>Namespaces</h3><ul><li><a href="addEditContacts.html">addEditContacts</a></li><li><a href="addTaskTemplate.html">addTaskTemplate</a></li><li><a href="board.html">board</a></li><li><a href="boardTaskTemplate.html">boardTaskTemplate</a></li><li><a href="contactTemplates.html">contactTemplates</a></li><li><a href="contacts.html">contacts</a></li><li><a href="dragAndDrop.html">dragAndDrop</a></li><li><a href="greeting.html">greeting</a></li><li><a href="help.html">help</a></li><li><a href="login.html">login</a></li><li><a href="navigations.html">navigations</a></li><li><a href="openCloseDialog.html">openCloseDialog</a></li><li><a href="privacyLegal.html">privacyLegal</a></li><li><a href="script.html">script</a></li><li><a href="summary.html">summary</a></li></ul><h3>Classes</h3><ul><li><a href="AddTaskMobileUtil.html">AddTaskMobileUtil</a></li><li><a href="AddTaskUtils.html">AddTaskUtils</a></li><li><a href="BoardTaskDetailDeleteUtil.html">BoardTaskDetailDeleteUtil</a></li><li><a href="BoardTaskDetailEditUtils.html">BoardTaskDetailEditUtils</a></li><li><a href="BoardTaskDetailViewUtils.html">BoardTaskDetailViewUtils</a></li><li><a href="Contact.html">Contact</a></li><li><a href="ContactAssigned.html">ContactAssigned</a></li><li><a href="CreateNewTask.html">CreateNewTask</a></li><li><a href="DueDateCheck.html">DueDateCheck</a></li><li><a href="EditTaskSafeUtil.html">EditTaskSafeUtil</a></li><li><a href="FirebaseDatabase.html">FirebaseDatabase</a></li><li><a href="Subtask.html">Subtask</a></li><li><a href="SubtaskToTask.html">SubtaskToTask</a></li><li><a href="Task.html">Task</a></li><li><a href="TaskComponents.html">TaskComponents</a></li><li><a href="TaskElements.html">TaskElements</a></li></ul><h3>Global</h3><ul><li><a href="global.html#firebaseConfig">firebaseConfig</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sun Oct 26 2025 17:05:01 GMT+0100 (Mitteleurop√§ische Normalzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
