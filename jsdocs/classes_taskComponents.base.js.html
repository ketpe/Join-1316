<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: classes/taskComponents.base.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: classes/taskComponents.base.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @description Base class for task components, providing common properties and methods.
 * This class serves as a foundation for managing task-related functionalities,
 * including loading contacts and categories, setting priorities, and handling task data.
 * Loaded by add task page and board detail view page
 * @class TaskComponents
 * @namespace taskComponents
 * @mixes taskComponents.categories
 * @mixes taskComponents.contacts
 * @mixes taskComponents.create
 * @mixes taskComponents.layout
 * @mixes taskComponents.priority
 * @mixes taskComponents.subtasks
 * @mixes taskComponents.validation
 */


class TaskComponents{

    contactAllListFromDB = [];
    categories = [];
    currentDueDate = "";
    currentDueDateInputValue = "";
    currentTitle = "";
    isContactListOpen = false;
    currentContactAssignList = [];
    currentPriority = "";
    isCategoryListOpen = false;
    currentCategory = {};
    currentSubTasks = [];
    addTaskUtils = new AddTaskUtils();
    currentTask = null;
    currentTaskId = "";
    currentUser; 
    currentInstance; 
    currentStateCategory;
    addTaskTitleOnFocus = false;
    addTaskDueDateOnFocus = false;


    /**
     * Creates an instance of the TaskComponents class.
     * @param {*} currentUser 
     * @param {*} currentInstance 
     * @param {*} currentStateCategory 
     */
    constructor(currentUser, currentInstance, currentStateCategory) {
        this.currentUser = currentUser;
        this.currentInstance = currentInstance;
        this.currentStateCategory = currentStateCategory;
    }

    /**
     * Initializes the task components and loads necessary data.
     * @returns {Promise&lt;void>}
     */
    async run() {
        await this.loadContactsAllFromDB();
        await this.loadCategoriesFromDB();
        this.setNewPriority("Medium");
        //this.checkAvailableSpaceInAddTaskDialog();
        //this.checkAvailableSpaceInAddTask();
    }

    /**
     * Runs the task components with the specified data as view.
     * @param {Object} currentTask - The current task object.
     * @returns {Promise&lt;void>}
     */
    async runWithDataAsView(currentTask) {
        this.currentTask = currentTask;
        this.currentTaskId = this.currentTask['id'];
        const boardUtils = new BoardTaskDetailViewUtils(this.currentTaskId, this.currentTask, this.currentInstance);
        openDialog('detail-view-task-dialog');
        boardUtils.startRenderTaskDetails();
        this.currentSubTasks = currentTask['subTasks'];
    }

    /**
     * Runs the task components with the specified data as edit.
     * @param {Object} currentTask - The current task object.
     * @returns {Promise&lt;void>}
     */
    async runWithDataAsEdit(currentTask) {
        this.currentTask = currentTask;
        this.currentTaskId = this.currentTask['id'];
        const boardEditUtil = new BoardTaskDetailEditUtils(this.currentTaskId, this.currentTask, this.currentInstance);
        await boardEditUtil.startRenderTaskEdit();
        await this.loadContactsAllFromDB();
        await this.loadCategoriesFromDB();
        this.setNewPriority(this.currentTask['priority']);
        this.currentContactAssignList = boardEditUtil.getCurrentAssignList();
        this.showOrHideBadgeContainer('show');
        this.currentSubTasks = currentTask['subTasks'];
        this.renderSubtasks();
        document.getElementById('detail-edit-ok-btn').setAttribute('data-id', this.currentTaskId);
        document.querySelector('body').setAttribute("onmouseup", `${this.currentInstance}.addTaskWindowMouseClick(event)`);
        this.readCurrentTaskDateIntoVariables();
    }


}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-scripts_firebase.html">scripts/firebase</a></li></ul><h3>Namespaces</h3><ul><li><a href="addEditContacts.html">addEditContacts</a></li><li><a href="addTaskTemplate.html">addTaskTemplate</a></li><li><a href="app.html">app</a></li><li><a href="board.html">board</a></li><li><a href="boardDatabase.html">boardDatabase</a></li><li><a href="boardDetailView.html">boardDetailView</a></li><li><a href="boardSearch.html">boardSearch</a></li><li><a href="boardTaskTemplate.html">boardTaskTemplate</a></li><li><a href="boardTasks.html">boardTasks</a></li><li><a href="boardUtils.html">boardUtils</a></li><li><a href="contactTemplates.html">contactTemplates</a></li><li><a href="contacts.html">contacts</a></li><li><a href="dragAndDrop.html">dragAndDrop</a></li><li><a href="greeting.html">greeting</a></li><li><a href="help.html">help</a></li><li><a href="landscapeBlock.html">landscapeBlock</a></li><li><a href="login.html">login</a></li><li><a href="navigations.html">navigations</a></li><li><a href="openCloseDialog.html">openCloseDialog</a></li><li><a href="privacyLegal.html">privacyLegal</a></li><li><a href="script.html">script</a></li><li><a href="summary.html">summary</a></li><li><a href="taskComponents_.html">taskComponents</a></li></ul><h3>Classes</h3><ul><li><a href="AddTaskCache.html">AddTaskCache</a></li><li><a href="AddTaskMobileUtil.html">AddTaskMobileUtil</a></li><li><a href="AddTaskUtils.html">AddTaskUtils</a></li><li><a href="BoardTaskDetailDeleteUtil.html">BoardTaskDetailDeleteUtil</a></li><li><a href="BoardTaskDetailEditUtils.html">BoardTaskDetailEditUtils</a></li><li><a href="BoardTaskDetailViewUtils.html">BoardTaskDetailViewUtils</a></li><li><a href="Contact.html">Contact</a></li><li><a href="ContactAssigned.html">ContactAssigned</a></li><li><a href="CreateNewTask.html">CreateNewTask</a></li><li><a href="DueDateCheck.html">DueDateCheck</a></li><li><a href="EditTaskSafeUtil.html">EditTaskSafeUtil</a></li><li><a href="FirebaseDatabase.html">FirebaseDatabase</a></li><li><a href="Subtask.html">Subtask</a></li><li><a href="SubtaskToTask.html">SubtaskToTask</a></li><li><a href="Task.html">Task</a></li><li><a href="TaskComponents.html">TaskComponents</a></li><li><a href="TaskElements.html">TaskElements</a></li></ul><h3>Mixins</h3><ul><li><a href="taskComponents.categories.html">categories</a></li><li><a href="taskComponents.contacts.html">contacts</a></li><li><a href="taskComponents.create.html">create</a></li><li><a href="taskComponents.layout.html">layout</a></li><li><a href="taskComponents.priority.html">priority</a></li><li><a href="taskComponents.subtasks.html">subtasks</a></li><li><a href="taskComponents.validation.html">validation</a></li></ul><h3>Global</h3><ul><li><a href="global.html#firebaseConfig">firebaseConfig</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Mon Nov 10 2025 20:21:08 GMT+0100 (Mitteleurop√§ische Normalzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
